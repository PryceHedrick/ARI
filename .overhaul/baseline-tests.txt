
> ari@12.0.0 test
> vitest run


 RUN  v1.6.1 /Users/prycehedrick/ari

 ✓ tests/unit/agents/planner.test.ts  (8 tests) 20ms
 ✓ tests/unit/agents/memory-manager.test.ts  (12 tests) 26ms
stderr | tests/unit/governance/council.test.ts > Council > should return false when casting vote for non-eligible agent
Agent core is not eligible to vote

stderr | tests/unit/governance/council.test.ts > Council > should return false when casting vote on closed vote
Vote 09a8ce98-0be2-4c01-a4fd-d28e8a51621c is not open (status: PASSED)

 ✓ tests/unit/governance/council.test.ts  (10 tests) 6ms
 ✓ tests/unit/agents/executor.test.ts  (10 tests) 51ms
 ✓ tests/integration/pipeline.test.ts  (8 tests) 54ms
 ✓ tests/unit/agents/guardian.test.ts  (10 tests) 25ms
 ✓ tests/unit/agents/core.test.ts  (9 tests) 67ms
stderr | tests/unit/kernel/event-bus.test.ts > EventBus > should handle errors in one handler without breaking others
Error in event handler for 'test:event': Error: Handler 1 failed
    at /Users/prycehedrick/ari/tests/unit/kernel/event-bus.test.ts:133:13
    at mockCall (file:///Users/prycehedrick/ari/node_modules/@vitest/spy/dist/index.js:50:17)
    at spy (file:///Users/prycehedrick/ari/node_modules/tinyspy/dist/index.js:42:80)
    at EventBus.emit (/Users/prycehedrick/ari/src/kernel/event-bus.ts:96:9)
    at /Users/prycehedrick/ari/tests/unit/kernel/event-bus.test.ts:144:16
    at Proxy.assertThrows (/Users/prycehedrick/ari/node_modules/chai/lib/chai/core/assertions.js:2644:7)
    at Proxy.methodWrapper (/Users/prycehedrick/ari/node_modules/chai/lib/chai/utils/addMethod.js:57:25)
    at Proxy.<anonymous> (file:///Users/prycehedrick/ari/node_modules/@vitest/expect/dist/index.js:850:16)
    at Proxy.overwritingMethodWrapper (/Users/prycehedrick/ari/node_modules/chai/lib/chai/utils/overwriteMethod.js:78:33)
    at Proxy.<anonymous> (file:///Users/prycehedrick/ari/node_modules/@vitest/expect/dist/index.js:1324:19)

 ✓ tests/unit/kernel/event-bus.test.ts  (8 tests) 11ms
 ✓ tests/unit/governance/overseer.test.ts  (8 tests) 5ms
 ✓ tests/unit/governance/arbiter.test.ts  (10 tests) 5ms
 ✓ tests/security/injection.test.ts  (14 tests) 4ms
 ✓ tests/unit/kernel/sanitizer.test.ts  (5 tests) 4ms
 ✓ tests/unit/kernel/audit.test.ts  (3 tests) 8ms
 ✓ tests/unit/system/router.test.ts  (5 tests) 10013ms

 Test Files  14 passed (14)
      Tests  120 passed (120)
   Start at  14:30:28
   Duration  10.67s (transform 340ms, setup 0ms, collect 1.03s, tests 10.30s, environment 2ms, prepare 1.37s)

